- PPU:
    - YFlip:
        - IF you have double height object the y-Flip applies to the entire object.
    - Objects:
        - Selection Priority.
        - 10 Objects per Line.
        - Object-Object Priority.
        - Object Performance.
    - Window:
        - One pixel is missing.
    - Midframe Behaviour.
        - When certain scroll registers are fetched!
    - Timing:
        - Correct Mode 3 length (penalties).
    - Stat:
        - What stat does the PPU have when you turn it off?
        - The PPU Mode needs to be 0.
        - I set the initial mode for the PPU to 0x80, but it should be 0x85!
        https://www.reddit.com/r/Gameboy/comments/a1c8h0/what_happens_when_a_gameboy_screen_is_disabled/
- "Defensive Programming":
    - Add a lot of asserts to different functions/systems to clearly define requirements.
    - Example: MMU: What a game is allowed to access when (like the VRAM).
- Cleanup CPU code!
- Testing:
    - CPU: 
        - Stop, Halt
        - EI Delay, DI
    - MMIO:
        - Joypad: 
            - Test different InputState combinations and the resulting bit with test flags?
        - Interrupts:
    - PPU:
        - Static: MemoryDump + Picture => Compare them.
        - Dynamic: MemoryDump + Picture + CPUWriteList (perCycle) => Compare them.
            - Compare each written pixel?
            - MemoryDump: When VBlank starts?
            - CPUWriteList: Not each Write to PPU accessible memory.
    - Cart (MBC): 
    - TestRoms:
        - Blargg (CPU)
        - MealyBug (PPU)
        - Mooneye (All)
        - Acid2 (PPU)
        - SameSuite (All)
- Debugging Features:
    - Add a bunch of features that make it easier to see where issues lie.
    - Like a VRAM viewer that includes color-coded tile indices for a tile map for example.
    - Status updates like DMA transfers and what was transfered etc.
- Bugs:
    - When the PPU 


Interrupt Handling:
- two functions in cpu: IsInterruptRunning() and ExecInterrupt()
- we have a state machine for the interrupts with a switch state and a current state.
- also a bool that says if the interrupt is currently running.
- do that so that we can have the interrupt handler run for multiple cycles.
- the handler now looks very similar to the opcodes of the cpu.
- But not it's own class (because the code is so little and so reliant on the CPU internals).
- writeup:
https://mgba.io/2018/03/09/holy-grail-bugs-revisited/#the-phantom-of-pinball-fantasies

Required Data:
- MMU:
    - IE Register.
    - IF Register.
    - IME Register.
- CPU:
    - cpu halted state.
    - cpu sp. 
    - cpu pc.
    - cpu cycles_ahead (lag cycles).
